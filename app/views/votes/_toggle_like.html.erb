<%
  vote_path = polymorphic_path([votable, :vote])
  liked = user_signed_in? && current_user.voted_for?(votable)
%>

<%= form_tag vote_path, method: (liked ? :delete : :post), class: "like-form" do %>
  <%= text_field_tag 'id', votable.id, hidden: true %>
  <%= text_field_tag 'type', votable.class.to_s.downcase, hidden: true %>
    <%= button_tag(type: 'submit', class: "#{votable.class.to_s.downcase}-vote  #{liked ? "active" : "inactive"}") do %>
      <%= votable.get_likes.size.to_s %>
    <% end %>
<% end %>
